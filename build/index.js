!function(){"use strict";var e={d:function(t,a){for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}};!function(e,t,a){var n={};function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.r(n),a.d(n,{metadata:function(){return w},name:function(){return k},settings:function(){return T}});var r=window.wp.element,o=window.lodash,i=wp.components,c=i.PanelBody,s=i.Placeholder,u=i.RangeControl,m=i.SelectControl,b=i.Spinner,p=i.TextControl,f=i.ToggleControl,d=wp.data,y=d.dispatch,g=d.useSelect,E=wp.blockEditor,h=E.InspectorControls,v=E.useBlockProps,S=wp.i18n.__,w=JSON.parse('{"apiVersion":2,"name":"hrswpsqlsrv/job-classifications","title":"HRS Job Classifications","category":"hrswp_sqlsrv_db","description":"Display WSU job classification data.","textdomain":"default","attributes":{"displayAsList":{"type":"boolean","default":false},"columns":{"type":"number","default":3},"salaryDataUrl":{"type":"string","default":""},"queryTable":{"type":"string"}},"supports":{"align":true,"html":false},"styles":[{"name":"default","label":"Default Table","isDefault":true},{"name":"stripes","label":"Striped Table"}]}'),C=wp.components,O=C.Path,j=C.Rect,D=C.SVG,P=(0,r.createElement)(D,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(j,{x:"0",fill:"none",width:"24",height:"24"}),(0,r.createElement)(O,{d:"M13.2 10L11 13l-1-1.4L9 13l-2.2-3C3 11 3 13 3 16.9c0 0 3 1.1 6.4 1.1h1.2c3.4-.1 6.4-1.1 6.4-1.1 0-3.9 0-5.9-3.8-6.9zm-3.2.7L8.4 10l1.6 1.6 1.6-1.6-1.6.7zM10 2.1c-1.9 0-3 1.8-2.7 3.8.3 2 1.3 3.4 2.7 3.4s2.4-1.4 2.7-3.4c.3-2.1-.8-3.8-2.7-3.8z"})),k=w.name,T={icon:P,example:{},edit:function(e){var t=e.attributes,a=t.displayAsList,n=t.columns,i=t.salaryDataUrl,d=t.queryTable,E=e.setAttributes,w=g((function(e){var t=e("hrswpsqlsrv/salary-data"),a=t.getJobClassificationData,n=t.getTableNames,l=t.isResolving;return{jobClassificationData:null!=d&&d.length?a(d):{},isRequesting:l("getJobClassificationData",[d]),tables:n()}}),[d]),C=w.jobClassificationData,O=w.isRequesting,j=w.tables,D=function(e){return function(t){"queryTable"===e&&y("hrswpsqlsrv/salary-data").invalidateResolutionForStoreSelector("getJobClassificationData"),E(l({},e,t))}},P=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),k=function(e){return e?(0,o.unescape)(e).trim():S("(Untitled)")},T=function(e){return Number.isNaN(Number(e))?k(e):P.format(e)},x=function(e,t){var a=(0,o.escape)(i+"?filter="+e);return(0,r.createElement)("a",{href:a,target:"_blank",rel:"noreferrer noopener"},k(t))};return(0,r.createElement)("div",v(),(0,r.createElement)(h,null,(0,r.createElement)(c,{title:S("Job Classifications settings")},(0,r.createElement)(f,{label:S("Display as list"),checked:a,onChange:D("displayAsList")}),a&&(0,r.createElement)(u,{label:S("List Columns"),value:n||3,onChange:D("columns"),min:1,max:6}),(0,r.createElement)(m,{className:"salary-data-table-picker__select",label:S("Select Job Data source"),value:d,options:null!=j&&j.length?null==j?void 0:j.reduce((function(e,t){return(t.value.includes("job-class")||""===t.value)&&e.push(t),e}),[]):[],onChange:D("queryTable")}),(0,r.createElement)(p,{label:S("Linked Salary Data URL"),help:S("The full URL to a page with a corresponding Salary Data block to link to. Leave blank to link to the current page."),value:i,onChange:D("salaryDataUrl")}))),!d&&(0,r.createElement)(s,{icon:"admin-post",label:S("Job Classification Data")},Array.isArray(j)?S("Select a job classification data group to display results."):(0,r.createElement)(b,null)),d&&O&&(0,r.createElement)(s,{icon:"admin-post",label:S("Job Classification Data")},(0,r.createElement)(b,null)),!O&&(null==C?void 0:C.length)>0&&(a?(0,r.createElement)("ul",{className:"has-columns has-columns-".concat(n)},C.map((function(e,t){return function(e,t){var a=e.ClassCode,n=e.JobTitle,l=e.SalRangeNum,o=e.Salary_Max,i=e.Salary_Min,c=e.SalrangeWExceptions;return(0,r.createElement)("li",{key:t},(0,r.createElement)("strong",null,k(n)),(0,r.createElement)("span",null," (".concat(k(a),")")),(0,r.createElement)("ul",null,(0,r.createElement)("li",null," ".concat(S("Range"),": "),x(l,c)),(0,r.createElement)("li",null," ".concat(S("Salary Min"),": "),T(i)),(0,r.createElement)("li",null," ".concat(S("Salary Max"),": "),T(o))))}(e,t)}))):(0,r.createElement)("figure",{className:"wp-block-table"},(0,r.createElement)("table",null,(0,r.createElement)("thead",null,(0,r.createElement)("tr",null,(0,r.createElement)("th",null,S("Job Class")),(0,r.createElement)("th",null,S("Job Title")),(0,r.createElement)("th",null,S("Range")),(0,r.createElement)("th",null,S("Salary Min")),(0,r.createElement)("th",null,S("Salary Max")))),(0,r.createElement)("tbody",null,C.map((function(e,t){return function(e,t){var a=e.ClassCode,n=e.JobTitle,l=e.SalRangeNum,o=e.Salary_Max,i=e.Salary_Min,c=e.SalrangeWExceptions;return(0,r.createElement)("tr",{key:t},(0,r.createElement)("td",null,k(a)),(0,r.createElement)("td",null,k(n)),(0,r.createElement)("td",null,x(l,c)),(0,r.createElement)("td",null,T(i)),(0,r.createElement)("td",null,T(o)))}(e,t)})))))))}};function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var J=wp.blocks.registerBlockType;[n].forEach((function(e){if(e){var t=e.metadata,a=e.settings,n=e.name;J(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({name:n},t),a)}}))}(0,0,e)}();