!function(){"use strict";var e={d:function(t,n){for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}};!function(e,t,n){var l={};n.r(l),n.d(l,{metadata:function(){return S},name:function(){return _},settings:function(){return k}});var r={};n.r(r),n.d(r,{metadata:function(){return G},name:function(){return K},settings:function(){return Q}});var a={};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}n.r(a),n.d(a,{name:function(){return _e},settings:function(){return Re}});var u=window.wp.element,i=window.lodash,s=wp.components,m=s.PanelBody,p=s.Placeholder,f=s.SelectControl,y=s.Spinner,b=wp.data,d=b.dispatch,h=b.useSelect,E=wp.blockEditor,g=E.InspectorControls,v=E.useBlockProps,w=wp.i18n.__,S=JSON.parse('{"apiVersion":2,"name":"hrswpsqlsrv/salary-data","title":"HRS Salary Data","category":"hrswp_sqlsrv_db","description":"Display WSU salary data.","textdomain":"default","attributes":{"queryTable":{"type":"string"}},"supports":{"align":true,"html":false},"styles":[{"name":"default","label":"Table","isDefault":true},{"name":"stripes","label":"Stripes"}]}'),C=wp.primitives,O=C.Path,D=C.SVG,j=(0,u.createElement)(D,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,u.createElement)(O,{d:"M3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zm-1.338 4.877c-.314.22-.412.452-.412.623 0 .171.098.403.412.623.312.218.783.377 1.338.377.825 0 1.605.233 2.198.648.59.414 1.052 1.057 1.052 1.852 0 .795-.461 1.438-1.052 1.852-.41.286-.907.486-1.448.582v.316a.75.75 0 01-1.5 0v-.316a3.64 3.64 0 01-1.448-.582c-.59-.414-1.052-1.057-1.052-1.852a.75.75 0 011.5 0c0 .171.098.403.412.623.312.218.783.377 1.338.377s1.026-.159 1.338-.377c.314-.22.412-.452.412-.623 0-.171-.098-.403-.412-.623-.312-.218-.783-.377-1.338-.377-.825 0-1.605-.233-2.198-.648-.59-.414-1.052-1.057-1.052-1.852 0-.795.461-1.438 1.052-1.852a3.64 3.64 0 011.448-.582V7.5a.75.75 0 011.5 0v.316c.54.096 1.039.296 1.448.582.59.414 1.052 1.057 1.052 1.852a.75.75 0 01-1.5 0c0-.171-.098-.403-.412-.623-.312-.218-.783-.377-1.338-.377s-1.026.159-1.338.377z"})),_=S.name,k={icon:j,example:{},edit:function(e){var t,n=e.attributes.queryTable,l=e.setAttributes,r=h((function(e){var t=e("hrswpsqlsrv/salary-data"),l=t.getSalaryData,r=t.getTableNames,a=t.isResolving;return{salaryData:null!=n&&n.length?l(n):{},isRequesting:a("getSalaryData",[n]),tables:r()}}),[n]),a=r.salaryData,s=r.isRequesting,b=r.tables,E=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}),S=function(e){return e?(0,i.unescape)(e).trim():w("(Untitled)")},C=function(e,t){return(0,u.createElement)("tr",{key:t},Object.entries(e).map((function(e,t){var n,l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,r,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(a.push(l.value),!t||a.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=l[0],a=l[1],o="RANGE"!==r?(n=a,Number.isNaN(Number(n))?S(n):E.format(n)):S(a);return(0,u.createElement)("td",{key:t},o)})))};return(0,u.createElement)("div",v(),(0,u.createElement)(g,null,(0,u.createElement)(m,{title:w("Salary Data settings")},(0,u.createElement)(f,{className:"salary-data-table-picker__select",label:w("Select Job Data source"),value:n,options:null!=b&&b.length?null==b?void 0:b.reduce((function(e,t){return(t.value.includes("salary")||""===t.value)&&e.push(t),e}),[]):[],onChange:(t="queryTable",function(e){d("hrswpsqlsrv/salary-data").invalidateResolutionForStoreSelector("getSalaryData"),l(o({},t,e))})}))),!n&&(0,u.createElement)(p,{icon:"admin-post",label:w("Salary Data")},Array.isArray(b)?w("Select a salary data group to display results."):(0,u.createElement)(y,null)),n&&s&&(0,u.createElement)(p,{icon:"admin-post",label:w("Salary Data")},(0,u.createElement)(y,null)),!s&&(null==a?void 0:a.length)>0&&(0,u.createElement)("figure",{className:"wp-block-table"},(0,u.createElement)("table",null,(0,u.createElement)("thead",null,(0,u.createElement)("tr",null,Object.keys(a[0]).map((function(e,t){return function(e,t){var n="RANGE"!==e?"Step ".concat(S(e)):"Range";return(0,u.createElement)("th",{key:t},n)}(e,t)}))),n.includes("nurses")&&function(e){var t;return e.includes("nurses-a-am")&&(t=(0,u.createElement)(u.Fragment,null,(0,u.createElement)("th",null),(0,u.createElement)("th",null),(0,u.createElement)("th",null),(0,u.createElement)("th",null),(0,u.createElement)("th",null,"0"),(0,u.createElement)("th",null),(0,u.createElement)("th",null,"1"),(0,u.createElement)("th",null),(0,u.createElement)("th",null,"2"),(0,u.createElement)("th",null),(0,u.createElement)("th",null,"3"),(0,u.createElement)("th",null,"4"),(0,u.createElement)("th",null,"5"))),e.includes("nurses-a-nu")&&(t=(0,u.createElement)(u.Fragment,null,(0,u.createElement)("th",null,"6"),(0,u.createElement)("th",null,"7"),(0,u.createElement)("th",null,"8"),(0,u.createElement)("th",null,"12"),(0,u.createElement)("th",null,"15"),(0,u.createElement)("th",null,"18"),(0,u.createElement)("th",null,"20"),(0,u.createElement)("th",null,"26"))),e.includes("nurses-b-am")&&(t=(0,u.createElement)(u.Fragment,null,(0,u.createElement)("th",null,"0"),(0,u.createElement)("th",null),(0,u.createElement)("th",null,"1"),(0,u.createElement)("th",null),(0,u.createElement)("th",null,"2"),(0,u.createElement)("th",null),(0,u.createElement)("th",null,"3"),(0,u.createElement)("th",null),(0,u.createElement)("th",null,"4"),(0,u.createElement)("th",null),(0,u.createElement)("th",null,"5"),(0,u.createElement)("th",null,"6"),(0,u.createElement)("th",null,"7"))),e.includes("nurses-b-nu")&&(t=(0,u.createElement)(u.Fragment,null,(0,u.createElement)("th",null,"8"),(0,u.createElement)("th",null,"9"),(0,u.createElement)("th",null,"10"),(0,u.createElement)("th",null,"12"),(0,u.createElement)("th",null,"15"),(0,u.createElement)("th",null,"18"),(0,u.createElement)("th",null,"20"),(0,u.createElement)("th",null,"26"))),(0,u.createElement)("tr",null,(0,u.createElement)("th",null,(0,u.createElement)("abbr",{title:"Years of experience"},"YRSx")),t)}(n)),(0,u.createElement)("tbody",null,a.map((function(e,t){return C(e,t)}))))))}},P=wp.components,R=P.PanelBody,T=P.Placeholder,x=P.RangeControl,N=P.SelectControl,A=P.Spinner,q=P.TextControl,L=P.ToggleControl,J=wp.data,M=J.dispatch,U=J.useSelect,z=wp.blockEditor,B=z.InspectorControls,F=z.useBlockProps,I=wp.i18n.__,G=JSON.parse('{"apiVersion":2,"name":"hrswpsqlsrv/job-classifications","title":"HRS Job Classifications","category":"hrswp_sqlsrv_db","description":"Display WSU job classification data.","textdomain":"default","attributes":{"displayAsList":{"type":"boolean","default":false},"columns":{"type":"number","default":3},"salaryDataUrl":{"type":"string","default":""},"queryTable":{"type":"string"}},"supports":{"align":true,"html":false},"styles":[{"name":"default","label":"Default Table","isDefault":true},{"name":"stripes","label":"Striped Table"}]}'),V=wp.components,W=V.Path,H=V.Rect,Y=V.SVG,$=(0,u.createElement)(Y,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,u.createElement)(H,{x:"0",fill:"none",width:"24",height:"24"}),(0,u.createElement)(W,{d:"M13.2 10L11 13l-1-1.4L9 13l-2.2-3C3 11 3 13 3 16.9c0 0 3 1.1 6.4 1.1h1.2c3.4-.1 6.4-1.1 6.4-1.1 0-3.9 0-5.9-3.8-6.9zm-3.2.7L8.4 10l1.6 1.6 1.6-1.6-1.6.7zM10 2.1c-1.9 0-3 1.8-2.7 3.8.3 2 1.3 3.4 2.7 3.4s2.4-1.4 2.7-3.4c.3-2.1-.8-3.8-2.7-3.8z"})),K=G.name,Q={icon:$,example:{},edit:function(e){var t=e.attributes,n=t.displayAsList,l=t.columns,r=t.salaryDataUrl,a=t.queryTable,c=e.setAttributes,s=U((function(e){var t=e("hrswpsqlsrv/salary-data"),n=t.getJobClassificationData,l=t.getTableNames,r=t.isResolving;return{jobClassificationData:null!=a&&a.length?n(a):{},isRequesting:r("getJobClassificationData",[a]),tables:l()}}),[a]),m=s.jobClassificationData,p=s.isRequesting,f=s.tables,y=function(e){return function(t){"queryTable"===e&&M("hrswpsqlsrv/salary-data").invalidateResolutionForStoreSelector("getJobClassificationData"),c(o({},e,t))}},b=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),d=function(e){return e?(0,i.unescape)(e).trim():I("(Untitled)")},h=function(e){return Number.isNaN(Number(e))?d(e):b.format(e)},E=function(e,t){var n=(0,i.escape)(r+"?filter="+e);return(0,u.createElement)("a",{href:n,target:"_blank",rel:"noreferrer noopener"},d(t))};return(0,u.createElement)("div",F(),(0,u.createElement)(B,null,(0,u.createElement)(R,{title:I("Job Classifications settings")},(0,u.createElement)(L,{label:I("Display as list"),checked:n,onChange:y("displayAsList")}),n&&(0,u.createElement)(x,{label:I("List Columns"),value:l||3,onChange:y("columns"),min:1,max:6}),(0,u.createElement)(N,{className:"salary-data-table-picker__select",label:I("Select Job Data source"),value:a,options:null!=f&&f.length?null==f?void 0:f.reduce((function(e,t){return(t.value.includes("job-class")||""===t.value)&&e.push(t),e}),[]):[],onChange:y("queryTable")}),(0,u.createElement)(q,{label:I("Linked Salary Data URL"),help:I("The full URL to a page with a corresponding Salary Data block to link to. Leave blank to link to the current page."),value:r,onChange:y("salaryDataUrl")}))),!a&&(0,u.createElement)(T,{icon:"admin-post",label:I("Job Classification Data")},Array.isArray(f)?I("Select a job classification data group to display results."):(0,u.createElement)(A,null)),a&&p&&(0,u.createElement)(T,{icon:"admin-post",label:I("Job Classification Data")},(0,u.createElement)(A,null)),!p&&(null==m?void 0:m.length)>0&&(n?(0,u.createElement)("ul",{className:"has-columns has-columns-".concat(l)},m.map((function(e,t){return function(e,t){var n=e.ClassCode,l=e.JobTitle,r=e.SalRangeNum,a=e.Salary_Max,o=e.Salary_Min,c=e.SalrangeWExceptions;return(0,u.createElement)("li",{key:t},(0,u.createElement)("strong",null,d(l)),(0,u.createElement)("span",null," (".concat(d(n),")")),(0,u.createElement)("ul",null,(0,u.createElement)("li",null," ".concat(I("Range"),": "),E(r,c)),(0,u.createElement)("li",null," ".concat(I("Salary Min"),": "),h(o)),(0,u.createElement)("li",null," ".concat(I("Salary Max"),": "),h(a))))}(e,t)}))):(0,u.createElement)("figure",{className:"wp-block-table"},(0,u.createElement)("table",null,(0,u.createElement)("thead",null,(0,u.createElement)("tr",null,(0,u.createElement)("th",null,I("Job Class")),(0,u.createElement)("th",null,I("Job Title")),(0,u.createElement)("th",null,I("Range")),(0,u.createElement)("th",null,I("Salary Min")),(0,u.createElement)("th",null,I("Salary Max")))),(0,u.createElement)("tbody",null,m.map((function(e,t){return function(e,t){var n=e.ClassCode,l=e.JobTitle,r=e.SalRangeNum,a=e.Salary_Max,o=e.Salary_Min,c=e.SalrangeWExceptions;return(0,u.createElement)("tr",{key:t},(0,u.createElement)("td",null,d(n)),(0,u.createElement)("td",null,d(l)),(0,u.createElement)("td",null,E(r,c)),(0,u.createElement)("td",null,h(o)),(0,u.createElement)("td",null,h(a)))}(e,t)})))))))}};function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function ee(e,t){return ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}var re=wp.i18n.__,ae=wp.data.withSelect,oe=wp.element.Component,ce=wp.blockEditor.InspectorControls,ue=wp.serverSideRender,ie=wp.components,se=ie.PanelBody,me=ie.Placeholder,pe=ie.RangeControl,fe=ie.SelectControl,ye=ie.Spinner,be=ie.ToggleControl,de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ee(e,t)}(o,e);var t,n,l,r,a=(l=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=le(l);if(r){var n=le(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ne(this,e)});function o(){return X(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,l=e.tables,r=t.className,a=t.columns,o=t.imageCrop,c=t.queryTable,i=(0,u.createElement)(ce,null,"is-style-list"!==r&&(0,u.createElement)(se,{title:re("Grid Settings")},(0,u.createElement)(pe,{label:re("List Columns"),value:a||3,onChange:function(e){return n({columns:e})},min:1,max:6})),(0,u.createElement)(se,{title:re("Awards List Settings")},(0,u.createElement)(be,{label:re("Crop Images"),checked:o,onChange:function(e){return n({imageCrop:e})}})),(0,u.createElement)(se,{title:re("Select Awards Data Source")},(0,u.createElement)(fe,{className:"salary-data-table-picker__select",label:re("Select desired group:"),value:c,options:l,onChange:function(e){return n({queryTable:e})}})));return c?(0,u.createElement)(u.Fragment,null,i,(0,u.createElement)(ue,{block:"hrswpsqlsrv/list-awards",attributes:t})):(0,u.createElement)(u.Fragment,null,i,(0,u.createElement)(me,{icon:"admin-post",label:re("Awards Data")},Array.isArray(l)?re("Select an awards data group to display results."):(0,u.createElement)(ye,null)))}}])&&Z(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(oe),he=ae((function(e){var t,n=e("hrswpsqlsrv/salary-data").getTableNames();return Array.isArray(n)&&(t=n.reduce((function(e,t){return(t.value.includes("awards")||""===t.value)&&e.push(t),e}),[])),{tables:t}}))(de),Ee=JSON.parse('{"u2":"hrswpsqlsrv/list-awards","W3":"hrswp_sqlsrv_db","be":{"align":true,"html":false}}'),ge=wp.components,ve=ge.Path,we=ge.Rect,Se=ge.SVG,Ce=(0,u.createElement)(Se,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,u.createElement)(we,{x:"0",fill:"none",width:"24",height:"24"}),(0,u.createElement)(ve,{d:"M4.46 5.16L5 7.46l-.54 2.29 2.01 1.24L7.7 13l2.3-.54 2.3.54 1.23-2.01 2.01-1.24L15 7.46l.54-2.3-2-1.24-1.24-2.01-2.3.55-2.29-.54-1.25 2zm5.55 6.34C7.79 11.5 6 9.71 6 7.49c0-2.2 1.79-3.99 4.01-3.99 2.2 0 3.99 1.79 3.99 3.99 0 2.22-1.79 4.01-3.99 4.01zm-.02-1C8.33 10.5 7 9.16 7 7.5c0-1.65 1.33-3 2.99-3S13 5.85 13 7.5c0 1.66-1.35 3-3.01 3zm3.84 1.1l-1.28 2.24-2.08-.47L13 19.2l1.4-2.2h2.5zm-7.7.07l1.25 2.25 2.13-.51L7 19.2 5.6 17H3.1z"})),Oe=wp.i18n,De=Oe.__,je=Oe._x,_e=Ee.u2,ke=Ee.W3,Pe=Ee.be,Re={title:De("HRS Awards"),category:ke,description:De("Display employee recognition awards."),icon:Ce,keywords:[De("awards employees recognition")],supports:Pe,styles:[{name:"default",label:je("Grid","block style"),isDefault:!0},{name:"list",label:je("List","block style")}],edit:he,save:function(){return null}};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}var xe=wp.blocks.registerBlockType;[l,r,a].forEach((function(e){if(e){var t=e.metadata,n=e.settings,l=e.name;xe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:l},t),n)}}))}(0,0,e)}();